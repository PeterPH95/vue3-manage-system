import{i as T}from"./index.76cae2ae.js";import{b4 as _,d as m,A as y,r as v,H as g,o as w,b9 as E,a as b,c as C,j as F,aw as x}from"./index.be336d3b.js";import{n as S}from"./index.browser.8e74d592.js";const u=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],A=()=>{let t={sunday:[],monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[]},o=u.length;for(let e=0;e<o;e++){const l=u[e];let s={};s.id=S(),s.content=l+"-\u5199\u4EE3\u7801",s.day=e,s.fulfill=!1,t[l].push(s)}return t},D=_("todoState",{state:()=>({allTodos:A(),todayTodoList:[],todoFulfillList:[],day:7}),getters:{todoListGet(){if(this.day===7){const o=new Date().getDay();this.day=o}let t=u[this.day];return this.todayTodoList=this.allTodos[t],console.log("todoListGet\u8C03\u7528\u4E86"),this.todoFulfillList=[],this.todayTodoList.forEach(o=>{o.fulfill&&!this.todoFulfillList.includes(o)&&this.todoFulfillList.push(o)}),this.todayTodoList},countAlltodos(){console.log("countAlltodos");let t=[],o=[];for(let e=0;e<7;e++){let l=u[e],s=0,a=0;this.allTodos[l].forEach(i=>{i.fulfill?a++:s++}),t.push(s),o.push(a)}return[t,o]}},actions:{selectDay(t){t!==this.day&&(this.todoFulfillList=[],this.day=t)},addTodo(t){this.todayTodoList.unshift(t)},removeTodo(t){console.log(this.allTodos[this.day]);let o=u[this.day];this.allTodos[o]=this.allTodos[o].filter(e=>e.id!==t),this.todoFulfillList=this.todoFulfillList.filter(e=>e.id!==t)},updateStore(){this.todayTodoList.forEach(t=>{t.fulfill&&!this.todoFulfillList.includes(t)&&this.todoFulfillList.push(t)}),this.todayTodoList=this.todayTodoList.filter(t=>!t.fulfill),this.todoFulfillList=this.todoFulfillList.filter(t=>t.fulfill)},showAllTodos(){this.todoFulfillList.forEach(t=>{this.todayTodoList.includes(t)||this.todayTodoList.push(t)})},editTodo(t){this.todayTodoList.forEach(o=>{t.id===o.id&&(o.content=t.content)})}},persist:!0}),k={class:"charts"},B=m({__name:"TodoChart",setup(t){const o=D(),e=y(()=>{let[n,f]=o.countAlltodos;return n.unshift("\u672A\u5B8C\u6210"),f.unshift("\u5DF2\u5B8C\u6210"),[n,f]}),l=v();let s,a=[],r=[];const i=["day","\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],d=y(()=>o.day+1);h();function h(){a=e.value[1],a[d.value]=o.todoFulfillList.length,r=e.value[0]}function p(){s.setOption({dataset:{source:[i,a,r]}})}g(o,()=>{h(),p()});function L(){s=T(l.value),s.setOption({tooltip:{trigger:"axis"},legend:{left:"30%",top:"15%",textStyle:{fontSize:18,fontWeight:"bold"}},dataset:{source:[i,a,r]},xAxis:{type:"category"},yAxis:{gridIndex:0},grid:{top:"40%"},color:["#91cd77","#ef6567"],series:[{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},{type:"pie",id:"pie",radius:["20%","30%"],center:["70%","20%"],itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},emphasis:{label:{show:!0,fontSize:"14",fontWeight:"bold"}},label:{show:!1,position:"center",formatter:`${i[d.value]}{b}: {@`+i[d.value]+"}"},encode:{itemName:"day",value:`${i[d.value]}`,tooltip:`${i[d.value]}`}}]})}function c(){s.resize()}return w(()=>{L(),window.addEventListener("resize",c)}),E(()=>{window.removeEventListener("resize",c)}),(n,f)=>(b(),C("div",k,[F("div",{ref_key:"charts",ref:l,class:"charts-container"},null,512)]))}});const z=x(B,[["__scopeId","data-v-0a9a94e6"]]),W=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));export{z as T,W as a,D as u};
