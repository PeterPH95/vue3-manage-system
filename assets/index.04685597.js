import{d as y,ac as C,r as m,Z as _,o as k,a as V,c as A,K as t,w as a,f,a9 as F,aa as D,bN as S,bO as I,bP as N,bQ as R,bR as T,au as h,av as q,j as U,aw as $}from"./index.d5caadf9.js";import{E as j}from"./el-card.bd385f2b.js";import{E as G,a as K}from"./el-form-item.96e92f77.js";import{u as M}from"./tab.ea2dfc96.js";import{E as O}from"./index.4446ab75.js";import{E as P}from"./index.7fd5cf16.js";import"./event.4982e83d.js";import"./index.d87dbe69.js";import"./_Uint8Array.71d843a9.js";const Q=r=>(h("data-v-dc3c2b73"),r=r(),q(),r),Z=Q(()=>U("h2",{class:"title"},"\u7CFB\u7EDF\u767B\u5F55",-1)),z=y({__name:"index",setup(r){const b=D(),v=C(),w=M(),n=m(),d=m(!1),u=_({username:"",password:""}),B=_({username:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],password:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]}),p=e=>{!e||e.validate(async o=>{if(!!o){d.value=!0;try{const{data:l}=await S(u);v.setToken(l.access_token),await I(),w.clearTabs(),b.push("/home"),N({title:"\u{1F34A}\u{1F34A}\u{1F34A}",message:"\u6B22\u8FCE\u767B\u5F55\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",type:"success",duration:3e3})}finally{d.value=!1}}})},E=e=>{!e||e.resetFields()};return k(()=>{document.onkeydown=e=>{e=window.event||e,(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="enter")&&p(n.value)}}),(e,o)=>{const l=O,i=G,c=P,g=K,x=j;return V(),A("div",null,[t(x,{class:"loginfo"},{default:a(()=>[t(g,{ref_key:"ruleFormRef",ref:n,model:u,rules:B},{default:a(()=>[Z,t(i,{label:"\u8D26\u53F7",prop:"username"},{default:a(()=>[t(l,{type:"text",modelValue:u.username,"onUpdate:modelValue":o[0]||(o[0]=s=>u.username=s),placeholder:"\u7528\u6237\u540D\uFF1Aadmin / user","prefix-icon":f(R)},null,8,["modelValue","prefix-icon"])]),_:1}),t(i,{label:"\u5BC6\u7801",prop:"password"},{default:a(()=>[t(l,{modelValue:u.password,"onUpdate:modelValue":o[1]||(o[1]=s=>u.password=s),type:"password","show-password":"",placeholder:"\u5BC6\u7801\uFF1A123456","prefix-icon":f(T)},null,8,["modelValue","prefix-icon"])]),_:1}),t(i,null,{default:a(()=>[t(c,{type:"primary",onClick:o[2]||(o[2]=s=>p(n.value)),loading:d.value},{default:a(()=>[F("\u767B\u5F55")]),_:1},8,["loading"]),t(c,{onClick:o[3]||(o[3]=s=>E(n.value))},{default:a(()=>[F("\u91CD\u7F6E")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}});const ae=$(z,[["__scopeId","data-v-dc3c2b73"]]);export{ae as default};
