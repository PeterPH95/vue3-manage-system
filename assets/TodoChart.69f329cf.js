import{i as _}from"./index.76cae2ae.js";import{b5 as y,d as m,r as b,H as g,o as C,ba as v,a as w,c as E,j as T,aw as x}from"./index.01e26784.js";import{n as c}from"./index.browser.8e74d592.js";const F=()=>{let t=[],e={id:c(),content:"\u6572\u4EE3\u7801",day:0,fulfill:!1};t.push(e);for(let s=0;s<6;s++){let o={};o.id=c(),o.content=t[s].content+"+",o.day=s,o.fulfill=!(s%2),t.push(o)}return t},S=y("todoState",{state:()=>({todoList:F(),todoFulfillList:[]}),getters:{todoListGet:t=>t.todoList},actions:{addTodo(t){this.todoList.unshift(t)},removeTodo(t){this.todoList=this.todoList.filter(e=>e.id!==t),this.todoFulfillList=this.todoFulfillList.filter(e=>e.id!==t)},clearFulfill(){this.todoList=this.todoList.filter(t=>!t.fulfill)},updateStore(){this.todoList.forEach(t=>{t.fulfill&&!this.todoFulfillList.includes(t)&&this.todoFulfillList.push(t)}),this.todoList=this.todoList.filter(t=>!t.fulfill),this.todoFulfillList=this.todoFulfillList.filter(t=>t.fulfill)},showAllTodos(){this.todoFulfillList.forEach(t=>{this.todoList.includes(t)||this.todoList.push(t)})}},persist:!1}),B={class:"charts"},z=m({__name:"TodoChart",setup(t){const e=S(),s=b();let o;const r=["\u5DF2\u5B8C\u6210",0,0,0,0,0,0,0],d=["\u672A\u5B8C\u6210",0,0,0,0,0,0,0],i=["day","\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],l=new Date().getDay()+1;a();function a(){let n=e.todoFulfillList.length,f=e.todoList.filter(L=>!L.fulfill).length;r[l]=n,d[l]=f}function h(){o.setOption({dataset:{source:[i,r,d]}})}g(e,()=>{a(),h()});function p(){o=_(s.value),o.setOption({tooltip:{trigger:"axis"},legend:{left:"30%",top:"15%",textStyle:{fontSize:18,fontWeight:"bold"}},dataset:{source:[i,r,d]},xAxis:{type:"category"},yAxis:{gridIndex:0},grid:{top:"40%"},color:["#91cd77","#ef6567"],series:[{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},{type:"line",smooth:!0,seriesLayoutBy:"row",emphasis:{focus:"series"}},{type:"pie",id:"pie",radius:["20%","30%"],center:["70%","20%"],itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}},label:{show:!1,position:"center",formatter:"{b}: {@"+i[l]+"}"},encode:{itemName:"day",value:`${i[l]}`,tooltip:`${i[l]}`}}]})}function u(){o.resize()}return C(()=>{p(),window.addEventListener("resize",u)}),v(()=>{window.removeEventListener("resize",u)}),(n,f)=>(w(),E("div",B,[T("div",{ref_key:"charts",ref:s,class:"charts-container"},null,512)]))}});const A=x(z,[["__scopeId","data-v-e26f2f2b"]]),O=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{A as T,O as a,S as u};
